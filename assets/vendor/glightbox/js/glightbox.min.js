!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(b=b||self).GLightbox=a()}(this,function(){"use strict";function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function c(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}var f=Date.now();function g(){var b={},c=!0,a=0,d=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(c=arguments[0],a++);a<d;a++){var e=arguments[a];!function(d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c&&"[object Object]"===Object.prototype.toString.call(d[a])?b[a]=g(!0,b[a],d[a]):b[a]=d[a])}(e)}return b}function h(a,d){if((m(a)||a===window||a===document)&&(a=[a]),o(a)||p(a)||(a=[a]),0!=r(a)){if(o(a)&&!p(a))for(var e=a.length,b=0;b<e&& !1!==d.call(a[b],a[b],b,a);b++);else if(p(a)){for(var c in a)if(q(a,c)&& !1===d.call(a[c],a[c],c,a))break}}}function i(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,a=b[f]=b[f]||[],e={all:a,evt:null,found:null};return c&&d&&r(a)>0&&h(a,function(a,b){if(a.eventName==c&&a.fn.toString()==d.toString())return e.found=!0,e.evt=b,!1}),e}function j(j){var a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},g=a.onElement,m=a.withCallback,c=a.avoidDuplicate,n=void 0===c||c,d=a.once,o=void 0!==d&&d,e=a.useCapture,p=void 0!==e&&e,q=arguments.length>2?arguments[2]:void 0,b=g||[];function f(a){k(m)&&m.call(q,a,this),o&&f.destroy()}return l(b)&&(b=document.querySelectorAll(b)),f.destroy=function(){h(b,function(a){var b=i(a,j,f);b.found&&b.all.splice(b.evt,1),a.removeEventListener&&a.removeEventListener(j,f,p)})},h(b,function(a){var b=i(a,j,f);(a.addEventListener&&n&&!b.found||!n)&&(a.addEventListener(j,f,p),b.all.push({eventName:j,fn:f}))}),f}function a(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function k(a){return"function"==typeof a}function l(a){return"string"==typeof a}function m(a){return!(!a||!a.nodeType||1!=a.nodeType)}function n(a){return Array.isArray(a)}function o(a){return a&&a.length&&isFinite(a.length)}function p(a){return"object"===b(a)&&null!=a&&!k(a)&&!n(a)}function q(a,b){return null!==a&&hasOwnProperty.call(a,b)}function r(a){if(p(a)){if(a.keys)return a.keys().length;var b=0;for(var c in a)q(a,c)&&b++;return b}return a.length}function s(a){return!isNaN(parseFloat(a))&&isFinite(a)}(function(){function a(b){d(this,a),this.handlers=[],this.el=b}c(a,[{key:"add",value:function(a){this.handlers.push(a)}},{key:"del",value:function(b){b||(this.handlers=[]);for(var a=this.handlers.length;a>=0;a--)this.handlers[a]===b&&this.handlers.splice(a,1)}},{key:"dispatch",value:function(){for(var a=0,c=this.handlers.length;a<c;a++){var b=this.handlers[a];"function"==typeof b&&b.apply(this.el,arguments)}}}])})(),c(b,[{key:"start",value:function(a){if(a.touches){if(a.target&&a.target.nodeName&&["a","button","input"].indexOf(a.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",a.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=a.touches[0].pageX,this.y1=a.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(a,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&30>Math.abs(this.preTapPosition.x-this.x1)&&30>Math.abs(this.preTapPosition.y-this.y1),this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var b=this.preV;if(a.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var c={x:a.touches[1].pageX-this.x1,y:a.touches[1].pageY-this.y1};b.x=c.x,b.y=c.y,this.pinchStartLen=Y(b),this.multipointStart.dispatch(a,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){this.longTap.dispatch(a,this.element),this._preventTap=!0}).bind(this),750)}}}},{key:"move",value:function(a){if(a.touches){var b=this.preV,f=a.touches.length,c=a.touches[0].pageX,d=a.touches[0].pageY;if(this.isDoubleTap=!1,f>1){var g=a.touches[1].pageX,h=a.touches[1].pageY,e={x:a.touches[1].pageX-c,y:a.touches[1].pageY-d};null!==b.x&&(this.pinchStartLen>0&&(a.zoom=Y(e)/this.pinchStartLen,this.pinch.dispatch(a,this.element)),a.angle=q(e,b),this.rotate.dispatch(a,this.element)),b.x=e.x,b.y=e.y,null!==this.x2&&null!==this.sx2?(a.deltaX=(c-this.x2+g-this.sx2)/2,a.deltaY=(d-this.y2+h-this.sy2)/2):(a.deltaX=0,a.deltaY=0),this.twoFingerPressMove.dispatch(a,this.element),this.sx2=g,this.sy2=h}else{if(null!==this.x2){a.deltaX=c-this.x2,a.deltaY=d-this.y2;var i=Math.abs(this.x1-this.x2),j=Math.abs(this.y1-this.y2);(i>10||j>10)&&(this._preventTap=!0)}else a.deltaX=0,a.deltaY=0;this.pressMove.dispatch(a,this.element)}this.touchMove.dispatch(a,this.element),this._cancelLongTap(),this.x2=c,this.y2=d,f>1&&a.preventDefault()}}},{key:"end",value:function(a){if(a.changedTouches){this._cancelLongTap();var b=this;a.touches.length<2&&(this.multipointEnd.dispatch(a,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(a.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){b.swipe.dispatch(a,b.element)},0)):(this.tapTimeout=setTimeout(function(){b._preventTap||b.tap.dispatch(a,b.element),b.isDoubleTap&&(b.doubleTap.dispatch(a,b.element),b.isDoubleTap=!1)},0),b.isDoubleTap||(b.singleTapTimeout=setTimeout(function(){b.singleTap.dispatch(a,b.element)},250))),this.touchEnd.dispatch(a,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(a){this.cancelAll(),this.touchCancel.dispatch(a,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}},{key:"on",value:function(a,b){this[a]&&this[a].add(b)}},{key:"off",value:function(a,b){this[a]&&this[a].del(b)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]);var t=function(){function a(b,c){var f=this,e=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;if(d(this,a),this.img=b,this.slide=c,this.onclose=e,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(a){return f.dragStart(a)},!1),this.img.addEventListener("mouseup",function(a){return f.dragEnd(a)},!1),this.img.addEventListener("mousemove",function(a){return f.drag(a)},!1),this.img.addEventListener("click",function(a){return f.slide.classList.contains("dragging-nav")?(f.zoomOut(),!1):f.zoomedIn?void(f.zoomedIn&&!f.dragging&&f.zoomOut()):f.zoomIn()},!1),this.img.setZoomEvents=!0}return c(a,[{key:"zoomIn",value:function(){var b=this.widowWidth();if(!(this.zoomedIn||b<=768)){var a=this.img;if(a.setAttribute("data-style",a.getAttribute("style")),a.style.maxWidth=a.naturalWidth+"px",a.style.maxHeight=a.naturalHeight+"px",a.naturalWidth>b){var c=b/2-a.naturalWidth/2;this.setTranslate(this.img.parentNode,c,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(a){a.preventDefault(),this.zoomedIn?("touchstart"===a.type?(this.initialX=a.touches[0].clientX-this.xOffset,this.initialY=a.touches[0].clientY-this.yOffset):(this.initialX=a.clientX-this.xOffset,this.initialY=a.clientY-this.yOffset),a.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(a){var b=this;a.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){b.dragging=!1,b.img.isDragging=!1,b.img.classList.remove("dragging")},100)}},{key:"drag",value:function(a){this.active&&(a.preventDefault(),"touchmove"===a.type?(this.currentX=a.touches[0].clientX-this.initialX,this.currentY=a.touches[0].clientY-this.initialY):(this.currentX=a.clientX-this.initialX,this.currentY=a.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(a){if(this.zoomedIn){var b=a.clientX-this.img.naturalWidth/2,c=a.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,b,c)}}},{key:"setTranslate",value:function(a,b,c){a.style.transform="translate3d("+b+"px, "+c+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),a}(),u=function(){function a(){var i=this,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};d(this,a);var h=b.dragEl,c=b.toleranceX,e=b.toleranceY,f=b.slide,g=b.instance;this.el=h,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=void 0===c?40:c,this.toleranceY=void 0===e?65:e,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=void 0===f?null:f,this.instance=void 0===g?null:g,this.el.addEventListener("mousedown",function(a){return i.dragStart(a)},!1),this.el.addEventListener("mouseup",function(a){return i.dragEnd(a)},!1),this.el.addEventListener("mousemove",function(a){return i.drag(a)},!1)}return c(a,[{key:"dragStart",value:function(a){if(this.slide.classList.contains("zoomed"))this.active=!1;else{"touchstart"===a.type?(this.initialX=a.touches[0].clientX-this.xOffset,this.initialY=a.touches[0].clientY-this.yOffset):(this.initialX=a.clientX-this.xOffset,this.initialY=a.clientY-this.yOffset);var b=a.target.nodeName.toLowerCase();a.target.classList.contains("nodrag")||u(a.target,".nodrag")|| -1!==["input","select","textarea","button","a"].indexOf(b)?this.active=!1:(a.preventDefault(),(a.target===this.el||"img"!==b&&u(a.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=u(a.target,".ginner-container")))}}},{key:"dragEnd",value:function(a){var b=this;a&&a.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){b.instance.preventOutsideClick=!1,b.toleranceReached=!1,b.lastDirection=null,b.dragging=!1,b.el.isDragging=!1,b.el.classList.remove("dragging"),b.slide.classList.remove("dragging-nav"),b.dragContainer.style.transform="",b.dragContainer.style.transition=""},100)}},{key:"drag",value:function(a){if(this.active){a.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===a.type?(this.currentX=a.touches[0].clientX-this.initialX,this.currentY=a.touches[0].clientY-this.initialY):(this.currentX=a.clientX-this.initialX,this.currentY=a.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var c=Math.abs(this.currentX),d=Math.abs(this.currentY);if(c>0&&c>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var b=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&b&&(this.doSlideChange=b),this.instance.settings.dragAutoSnap&&b)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==b&&this.instance.prevSlide(),void("left"==b&&this.instance.nextSlide())}if(this.toleranceY>0&&d>0&&d>=c&&(!this.lastDirection||"y"==this.lastDirection)){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var e=this.shouldClose();return!this.instance.settings.dragAutoSnap&&e&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&e&&this.instance.close())}}}},{key:"shouldChange",value:function(){var b=!1;if(Math.abs(this.currentX)>=this.toleranceX){var a=this.currentX>0?"right":"left";("left"==a&&this.slide!==this.slide.parentNode.lastChild||"right"==a&&this.slide!==this.slide.parentNode.firstChild)&&(b=a)}return b}},{key:"shouldClose",value:function(){var a=!1;return Math.abs(this.currentY)>=this.toleranceY&&(a=!0),a}},{key:"setTranslate",value:function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];a.style.transition=d?"all .2s ease":"",a.style.transform="translate3d(".concat(b,"px, ").concat(c,"px, 0)")}}]),a}(),$=function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};d(this,a),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},p(b)&&(this.defaults=g(this.defaults,b))}return c(a,[{key:"sourceType",value:function(a){var b=a;return null!==(a=a.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)?"image":a.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||a.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||a.match(/vimeo\.com\/([0-9]*)/)||null!==a.match(/\.(mp4|ogg|webm|mov)/)?"video":null!==a.match(/\.(mp3|wav|wma|aac|ogg)/)?"audio":a.indexOf("#")> -1&&""!==b.split("#").pop().trim()?"inline":a.indexOf("goajax=true")> -1?"ajax":"external"}},{key:"parseConfig",value:function(b,e){var f,s=this,a=g({descPosition:e.descPosition},this.defaults);if(p(b)&&!m(b)){q(b,"type")||(q(b,"content")&&b.content?b.type="inline":q(b,"href")&&(b.type=this.sourceType(b.href)));var k=g(a,b);return this.setSize(k,e),k}var c="",l=b.getAttribute("data-glightbox"),d=b.nodeName.toLowerCase();if("a"===d&&(c=b.href),"img"===d&&(c=b.src,a.alt=b.alt),a.href=c,h(a,function(f,c){q(e,c)&&"width"!==c&&(a[c]=e[c]);var g,d=b.dataset[c];null==d||(a[c]=s.sanitizeValue(d))}),a.content&&(a.type="inline"),!a.type&&c&&(a.type=this.sourceType(c)),null==l){if(!a.title&&"a"==d){var t,i=b.title;null==i||""===i||(a.title=i)}if(!a.title&&"img"==d){var u,j=b.alt;null==j||""===j||(a.title=j)}}else{var n=[];h(a,function(b,a){n.push(";\\s?"+a)}),n=n.join("\\s?:|"),""!==l.trim()&&h(a,function(g,c){var d=l,e=new RegExp("s?"+c+"s?:s?(.*?)("+n+"s?:|$)"),b=d.match(e);if(b&&b.length&&b[1]){var f=b[1].trim().replace(/;\s*$/,"");a[c]=s.sanitizeValue(f)}})}if(a.description&&"."===a.description.substring(0,1)){try{f=document.querySelector(a.description).innerHTML}catch(o){if(!(o instanceof DOMException))throw o}f&&(a.description=f)}if(!a.description){var r=b.querySelector(".glightbox-desc");r&&(a.description=r.innerHTML)}return this.setSize(a,e,b),this.slideConfig=a,a}},{key:"setSize",value:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,d="video"==a.type?this.checkSize(b.videosWidth):this.checkSize(b.width),e=this.checkSize(b.height);return a.width=q(a,"width")&&""!==a.width?this.checkSize(a.width):d,a.height=q(a,"height")&&""!==a.height?this.checkSize(a.height):e,c&&"image"==a.type&&(a._hasCustomWidth=!!c.dataset.width,a._hasCustomHeight=!!c.dataset.height),a}},{key:"checkSize",value:function(a){return s(a)?"".concat(a,"px"):a}},{key:"sanitizeValue",value:function(a){return"true"!==a&&"false"!==a?a:"true"===a}}]),a}(),v=function(){function b(a,c,e){d(this,b),this.element=a,this.instance=c,this.index=e}return c(b,[{key:"setContent",value:function(){var q=this,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,m=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(c(c,"loaded"))return!1;var d=this.instance.settings,b=this.slideConfig,n=a();k(d.beforeSlideLoad)&&d.beforeSlideLoad({index:this.index,slide:c,player:!1});var g=b.type,j=b.descPosition,l=c.querySelector(".gslide-media"),h=c.querySelector(".gslide-title"),e=c.querySelector(".gslide-desc"),i=c.querySelector(".gdesc-inner"),f=m,o="gSlideTitle_"+this.index,p="gSlideDesc_"+this.index;if(k(d.afterSlideLoad)&&(f=function(){k(m)&&m(),d.afterSlideLoad({index:q.index,slide:c,player:q.instance.getSlidePlayerInstance(q.index)})}),""==b.title&&""==b.description?i&&i.parentNode.parentNode.removeChild(i.parentNode):(h&&""!==b.title?(h.id=o,h.innerHTML=b.title):h.parentNode.removeChild(h),e&&""!==b.description?(e.id=p,n&&d.moreLength>0?(b.smallDescription=this.slideShortDesc(b.description,d.moreLength,d.moreText),e.innerHTML=b.smallDescription,this.descriptionEvents(e,b)):e.innerHTML=b.description):e.parentNode.removeChild(e),h(l.parentNode,"desc-".concat(j)),h(i.parentNode,"description-".concat(j))),h(l,"gslide-".concat(g)),h(c,"loaded"),"video"!==g){if("external"!==g)return"inline"===g?(G.apply(this.instance,[c,b,this.index,f]),void(b.draggable&&new u({dragEl:c.querySelector(".gslide-inline"),toleranceX:d.dragToleranceX,toleranceY:d.dragToleranceY,slide:c,instance:this.instance}))):void("image"!==g?k(f)&&f():j(c,b,this.index,function(){var a=c.querySelector("img");b.draggable&&new u({dragEl:a,toleranceX:d.dragToleranceX,toleranceY:d.dragToleranceY,slide:c,instance:q.instance}),b.zoomable&&a.naturalWidth>a.offsetWidth&&(h(a,"zoomable"),new t(a,c,function(){q.instance.resize()})),k(f)&&f()}));Z.apply(this,[c,b,this.index,f])}else F.apply(this.instance,[c,b,this.index,f])}},{key:"slideShortDesc",value:function(a){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:50,d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],b=document.createElement("div");if(b.innerHTML=a,(a=b.innerText.trim()).length<=c)return a;var e=a.substr(0,c-1);return d?(b=null,e+'... <a href="#" class="desc-more">'+d+"</a>"):e}},{key:"descriptionEvents",value:function(b,c){var d=this,a=b.querySelector(".desc-more");if(!a)return!1;j("click",{onElement:a,withCallback:function(e,f){e.preventDefault();var b=document.body,a=u(f,".gslide-desc");if(!a)return!1;a.innerHTML=c.description,h(b,"gdesc-open");var g=j("click",{onElement:[b,u(a,".gslide-description")],withCallback:function(e,f){"a"!==e.target.nodeName.toLowerCase()&&(d(b,"gdesc-open"),h(b,"gdesc-closed"),a.innerHTML=c.smallDescription,d.descriptionEvents(a,c),setTimeout(function(){d(b,"gdesc-closed")},400),g.destroy())}})}})}},{key:"create",value:function(){return m(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){m(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var a=new $(this.instance.settings.slideExtraAttributes);return this.slideConfig=a.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),b}(),w=a(),x=null!==a()|| void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,y=document.getElementsByTagName("html")[0],z={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.8/plyr.css",js:"https://cdn.plyr.io/3.6.8/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>'},A=function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};d(this,a),this.customOptions=b,this.settings=g(z,b),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return c(a,[{key:"init",value:function(){var b=this,a=this.getSelector();a&&(this.baseEvents=j("click",{onElement:a,withCallback:function(a,c){a.preventDefault(),b.open(c)}})),this.elements=this.getElements()}},{key:"open",value:function(){var c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;if(0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var a=s(d)?d:this.settings.startAt;if(m(c)){var h,e=c.getAttribute("data-gallery");e&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,e)),null==a&&(a=this.getElementIndex(c))<0&&(a=0)}s(a)||(a=0),this.build(),g(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var f=document.body,g=window.innerWidth-document.documentElement.clientWidth;if(g>0){var b=document.createElement("style");b.type="text/css",b.className="gcss-styles",b.innerText=".gscrollbar-fixer {margin-right: ".concat(g,"px}"),document.head.appendChild(b),h(f,"gscrollbar-fixer")}h(f,"glightbox-open"),h(y,"glightbox-open"),w&&(h(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(a,!0),1==this.elements.length?(h(this.prevButton,"glightbox-button-hidden"),h(this.nextButton,"glightbox-button-hidden")):(d(this.prevButton,"glightbox-button-hidden"),d(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),k(this.settings.onOpen)&&this.settings.onOpen(),x&&this.settings.touchNavigation&&B(this),this.settings.keyboardNavigation&&X(this)}},{key:"openAt",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;this.open(null,a)}},{key:"showSlide",value:function(){var g=this,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&& void 0!==arguments[1]&&arguments[1];f(this.loader),this.index=parseInt(b);var d=this.slidesContainer.querySelector(".current");d&&d(d,"current"),this.slideAnimateOut();var a=this.slidesContainer.querySelectorAll(".gslide")[b];if(c(a,"loaded"))this.slideAnimateIn(a,e),p(this.loader);else{f(this.loader);var c=this.elements[b],f={index:this.index,slide:a,slideNode:a,slideConfig:c.slideConfig,slideIndex:this.index,trigger:c.node,player:null};this.trigger("slide_before_load",f),c.instance.setContent(a,function(){p(g.loader),g.resize(),g.slideAnimateIn(a,e),g.trigger("slide_after_load",f)})}this.slideDescription=a.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&c(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(b+1),this.preloadSlide(b-1)),this.updateNavigationClasses(),this.activeSlide=a}},{key:"preloadSlide",value:function(a){var f,g=this;if(a<0||a>this.elements.length-1||null==this.elements[a])return!1;var b=this.slidesContainer.querySelectorAll(".gslide")[a];if(c(b,"loaded"))return!1;var c=this.elements[a],d=c.type,e={index:a,slide:b,slideNode:b,slideConfig:c.slideConfig,slideIndex:a,trigger:c.node,player:null};this.trigger("slide_before_load",e),"video"==d||"external"==d?setTimeout(function(){c.instance.setContent(b,function(){g.trigger("slide_after_load",e)})},200):c.instance.setContent(b,function(){g.trigger("slide_after_load",e)})}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(a<0||a>this.elements.length-1))return!1;a<0?a=this.elements.length-1:a>=this.elements.length&&(a=0),this.showSlide(a)}},{key:"insertSlide",value:function(){var i=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&& void 0!==arguments[1]?arguments[1]:-1;a<0&&(a=this.elements.length);var d=new v(i,this,a),e=d.getConfig(),b=g({},e),h=d.create(),j=this.elements.length-1;b.index=a,b.node=!1,b.instance=d,b.slideConfig=e,this.elements.splice(a,0,b);var c=null,f=null;if(this.slidesContainer){if(a>j)this.slidesContainer.appendChild(h);else{var l=this.slidesContainer.querySelectorAll(".gslide")[a];this.slidesContainer.insertBefore(h,l)}(this.settings.preload&&0==this.index&&0==a||this.index-1==a||this.index+1==a)&&this.preloadSlide(a),0==this.index&&0==a&&(this.index=1),this.updateNavigationClasses(),c=this.slidesContainer.querySelectorAll(".gslide")[a],f=this.getSlidePlayerInstance(a),b.slideNode=c}this.trigger("slide_inserted",{index:a,slide:c,slideNode:c,slideConfig:e,slideIndex:a,trigger:null,player:f}),k(this.settings.slideInserted)&&this.settings.slideInserted({index:a,slide:c,player:f})}},{key:"removeSlide",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:-1;if(a<0||a>this.elements.length-1)return!1;var b=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[a];b&&(this.getActiveSlideIndex()==a&&(a==this.elements.length-1?this.prevSlide():this.nextSlide()),b.parentNode.removeChild(b)),this.elements.splice(a,1),this.trigger("slide_removed",a),k(this.settings.slideRemoved)&&this.settings.slideRemoved(a)}},{key:"slideAnimateIn",value:function(a,e){var g,h,i=this,f=a.querySelector(".gslide-media"),b=a.querySelector(".gslide-description"),j={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:null==this.prevActiveSlideIndex?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:null==this.prevActiveSlideIndex?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},l={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(f.offsetWidth>0&&b&&(p(b),b.style.display=""),d(a,this.effectsClasses),e)g(a,this.settings.cssEfects[this.settings.openEffect].in,function(){i.settings.autoplayVideos&&i.slidePlayerPlay(a),i.trigger("slide_changed",{prev:j,current:l}),k(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[j,l])});else{var c=this.settings.slideEffect,d="none"!==c?this.settings.cssEfects[c].in:c;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(d=this.settings.cssEfects.slideBack.in),g(a,d,function(){i.settings.autoplayVideos&&i.slidePlayerPlay(a),i.trigger("slide_changed",{prev:j,current:l}),k(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[j,l])})}setTimeout(function(){i.resize(a)},100),h(a,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var a=this.prevActiveSlide;d(a,this.effectsClasses),h(a,"prev");var d,e,b=this.settings.slideEffect,c="none"!==b?this.settings.cssEfects[b].out:b;this.slidePlayerPause(a),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:null==this.prevActiveSlideIndex?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:null==this.prevActiveSlideIndex?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),k(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(c=this.settings.cssEfects.slideBack.out),g(a,c,function(){var d=a.querySelector(".ginner-container"),b=a.querySelector(".gslide-media"),c=a.querySelector(".gslide-description");d.style.transform="",b.style.transform="",d(b,"greset"),b.style.opacity="",c&&(c.style.opacity=""),d(a,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(c){var a="gvideo"+c,b=this.getAllPlayers();return!(!q(b,a)||!b[a])&&b[a]}},{key:"stopSlideVideo",value:function(a){if(m(a)){var c=a.querySelector(".gvideo-wrapper");c&&(a=c.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var b=this.getSlidePlayerInstance(a);b&&b.playing&&b.pause()}},{key:"slidePlayerPause",value:function(a){if(m(a)){var c=a.querySelector(".gvideo-wrapper");c&&(a=c.getAttribute("data-index"))}var b=this.getSlidePlayerInstance(a);b&&b.playing&&b.pause()}},{key:"playSlideVideo",value:function(a){if(m(a)){var c=a.querySelector(".gvideo-wrapper");c&&(a=c.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var b=this.getSlidePlayerInstance(a);b&&!b.playing&&b.play()}},{key:"slidePlayerPlay",value:function(a){if(m(a)){var c=a.querySelector(".gvideo-wrapper");c&&(a=c.getAttribute("data-index"))}var b=this.getSlidePlayerInstance(a);b&&!b.playing&&(b.play(),this.settings.autofocusVideos&&b.elements.container.focus())}},{key:"setElements",value:function(a){var c=this;this.settings.elements=!1;var b=[];a&&a.length&&h(a,function(h,d){var e=new v(h,c,d),f=e.getConfig(),a=g({},f);a.slideConfig=f,a.instance=e,a.index=d,b.push(a)}),this.elements=b,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(h(this.elements,function(){var a=m(c.settings.slideHTML);c.slidesContainer.appendChild(a)}),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(b){var a=!1;return h(this.elements,function(c,d){if(q(c,"node")&&c.node==b)return a=d,!0}),a}},{key:"getElements",value:function(){var c,d=this,b=[];this.elements=this.elements?this.elements:[],null!=this.settings.elements&&n(this.settings.elements)&&this.settings.elements.length&&h(this.settings.elements,function(h,c){var e=new v(h,d,c),f=e.getConfig(),a=g({},f);a.node=!1,a.index=c,a.instance=e,a.slideConfig=f,b.push(a)});var a=!1;return this.getSelector()&&(a=document.querySelectorAll(this.getSelector())),a&&h(a,function(c,e){var f=new v(c,d,e),h=f.getConfig(),a=g({},h);a.node=c,a.index=e,a.instance=f,a.slideConfig=h,a.gallery=c.getAttribute("data-gallery"),b.push(a)}),b}},{key:"getGalleryElements",value:function(a,b){return a.filter(function(a){return a.gallery==b})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var a=[];for(var b in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(b)){var c=this.settings.cssEfects[b];a.push("g".concat(c.in)),a.push("g".concat(c.out))}return a.join(" ")}},{key:"build",value:function(){var k=this;if(this.built)return!1;var d=document.body.childNodes,e=[];h(d,function(a){a.parentNode==document.body&&"#"!==a.nodeName.charAt(0)&&a.hasAttribute&&!a.hasAttribute("aria-hidden")&&(e.push(a),a.setAttribute("aria-hidden","true"))});var f=q(this.settings.svg,"next")?this.settings.svg.next:"",g=q(this.settings.svg,"prev")?this.settings.svg.prev:"",i=q(this.settings.svg,"close")?this.settings.svg.close:"",b=this.settings.lightboxHTML;b=m(b=(b=(b=b.replace(/{nextSVG}/g,f)).replace(/{prevSVG}/g,g)).replace(/{closeSVG}/g,i)),document.body.appendChild(b);var a=document.getElementById("glightbox-body");this.modal=a;var c=a.querySelector(".gclose");this.prevButton=a.querySelector(".gprev"),this.nextButton=a.querySelector(".gnext"),this.overlay=a.querySelector(".goverlay"),this.loader=a.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=e,this.events={},h(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&c&&(this.events.close=j("click",{onElement:c,withCallback:function(a,b){a.preventDefault(),k.close()}})),c&&!this.settings.closeButton&&c.parentNode.removeChild(c),this.nextButton&&(this.events.next=j("click",{onElement:this.nextButton,withCallback:function(a,b){a.preventDefault(),k.nextSlide()}})),this.prevButton&&(this.events.prev=j("click",{onElement:this.prevButton,withCallback:function(a,b){a.preventDefault(),k.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=j("click",{onElement:a,withCallback:function(a,b){k.preventOutsideClick||c(document.body,"glightbox-mobile")||u(a.target,".ginner-container")||u(a.target,".gbtn")||c(a.target,"gnext")||c(a.target,"gprev")||k.close()}})),h(this.elements,function(a,b){k.slidesContainer.appendChild(a.instance.create()),a.slideNode=k.slidesContainer.querySelectorAll(".gslide")[b]}),x&&h(document.body,"glightbox-touch"),this.events.resize=j("resize",{onElement:window,withCallback:function(){k.resize()}}),this.built=!0}},{key:"resize",value:function(){var e=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!c(e,"zoomed")){var l=y(),b=e.querySelector(".gvideo-wrapper"),h=e.querySelector(".gslide-image"),c=this.slideDescription,d=l.width,f=l.height;if(d<=768?h(document.body,"glightbox-mobile"):d(document.body,"glightbox-mobile"),b||h){var g=!1;if(c&&(c(c,"description-bottom")||c(c,"description-top"))&&!c(c,"gabsolute")&&(g=!0),h){if(d<=768)h.querySelector("img");else if(g){var w=c.offsetHeight,m=h.querySelector("img");m.setAttribute("style","max-height: calc(100vh - ".concat(w,"px)")),c.setAttribute("style","max-width: ".concat(m.offsetWidth,"px;"))}}if(b){var j=q(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!j){var n=b.clientWidth,o=b.clientHeight,p=n/o;j="".concat(n/p,":").concat(o/p)}var r=j.split(":"),a=this.settings.videosWidth,k=this.settings.videosWidth,i=(k=s(a)|| -1!==a.indexOf("px")?parseInt(a):-1!==a.indexOf("vw")?d*parseInt(a)/100:-1!==a.indexOf("vh")?f*parseInt(a)/100:-1!==a.indexOf("%")?d*parseInt(a)/100:parseInt(b.clientWidth))/(parseInt(r[0])/parseInt(r[1]));if(i=Math.floor(i),g&&(f-=c.offsetHeight),k>d||i>f||f<i&&d>k){var x=b.offsetWidth,t=b.offsetHeight,u=f/t,v={width:x*u,height:t*u};b.parentNode.setAttribute("style","max-width: ".concat(v.width,"px")),g&&c.setAttribute("style","max-width: ".concat(v.width,"px;"))}else b.parentNode.style.maxWidth="".concat(a),g&&c.setAttribute("style","max-width: ".concat(a,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var a=this.loop();d(this.nextButton,"disabled"),d(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(h(this.prevButton,"disabled"),h(this.nextButton,"disabled")):0!==this.index||a?this.index!==this.elements.length-1||a||h(this.nextButton,"disabled"):h(this.prevButton,"disabled")}},{key:"loop",value:function(){var a=q(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return q(this.settings,"loop")?this.settings.loop:a}},{key:"close",value:function(){var b=this;if(!this.lightboxOpen){if(this.events){for(var a in this.events)this.events.hasOwnProperty(a)&&this.events[a].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&h(this.bodyHiddenChildElms,function(a){a.removeAttribute("aria-hidden")}),h(this.modal,"glightbox-closing"),g(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),g(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(b.activeSlide=null,b.prevActiveSlideIndex=null,b.prevActiveSlide=null,b.built=!1,b.events){for(var c in b.events)b.events.hasOwnProperty(c)&&b.events[c].destroy();b.events=null}var d=document.body;d(y,"glightbox-open"),d(d,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),b.modal.parentNode.removeChild(b.modal),b.trigger("close"),k(b.settings.onClose)&&b.settings.onClose();var a=document.querySelector(".gcss-styles");a&&a.parentNode.removeChild(a),b.lightboxOpen=!1,b.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(!a||!k(b))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:a,once:c,callback:b})}},{key:"once",value:function(a,b){this.on(a,b,!0)}},{key:"trigger",value:function(b){var c=this,d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,a=[];h(this.apiEvents,function(c,e){var f=c.evt,g=c.once,h=c.callback;f==b&&(h(d),g&&a.push(e))}),a.length&&h(a,function(a){return c.apiEvents.splice(a,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.1"}}]),a}();return function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},a=new A(b);return a.init(),a}})
